(()=>{"use strict";let e=document.querySelector(".todo_input"),t=document.querySelector(".add"),c=document.querySelector(".todo_list"),o=document.querySelector(".todo_left"),n=document.querySelector("#all"),i=document.querySelector("#active"),l=document.querySelector("#completed"),a=document.querySelector(".clear"),r=[];function d(){let e="";0===r.length&&(c.innerHTML=""),r.forEach((function(t,o){e+=`\n      <li>\n         <input type='checkbox' id='item_${o}' ${t.checked?"checked":""}>\n         <label for='item_${o}' class="${t.important?"important":""}">${t.todo}</label>\n      </li>\n      `,c.innerHTML=e}))}function s(){let e="",t=0;r.forEach((function(e){!1===e.checked&&(t+=1)})),1===t&&(e=`${t} item left`),e=t<1?"Nothing left to do":`${t} items left`,o.innerHTML=e}localStorage.getItem("todo")&&(r=JSON.parse(localStorage.getItem("todo")),d()),t.addEventListener("click",(function(){if(!e.value)return;let t={todo:e.value,checked:!1,important:!1};r.push(t),d(),localStorage.setItem("todo",JSON.stringify(r)),e.value="",s()})),c.addEventListener("change",(function(e){let t=c.querySelector("[for="+e.target.getAttribute("id")+"]").innerHTML;r.forEach((function(e){e.todo===t&&(e.checked=!e.checked,localStorage.setItem("todo",JSON.stringify(r)))})),s()})),c.addEventListener("contextmenu",(function(e){e.preventDefault(),r.forEach((function(t,c){t.todo===e.target.innerHTML&&(e.ctrlKey||e.metaKey?r.splice(c,1):t.important=!t.important,d(),localStorage.setItem("todo",JSON.stringify(r)))})),s()})),s(),i.onclick=function(){let e="";i.classList.add("active"),n.classList.remove("active"),l.classList.remove("active"),r.forEach((function(t,o){!1===t.checked&&(e+=`\n         <li>\n            <input type='checkbox' id='item_${o}' ${t.checked?"checked":""}>\n            <label for='item_${o}' class="${t.important?"important":""}">${t.todo}</label>\n         </li>\n         `,c.innerHTML=e)}))},n.onclick=function(){n.classList.add("active"),i.classList.remove("active"),l.classList.remove("active"),d()},l.onclick=function(){let e="",t="",o=0;l.classList.add("active"),n.classList.remove("active"),i.classList.remove("active"),r.forEach((function(t,n){!0===t.checked&&(e+=`\n         <li>\n            <input type='checkbox' id='item_${n}' ${t.checked?"checked":""}>\n            <label for='item_${n}' class="${t.important?"important":""}">${t.todo}</label>\n         </li>\n         `,c.innerHTML=e,o+=1)})),0===o&&(t+="\n         <li>\n            <input type='checkbox'>\n            <label >You did nothing, lazy beatch! :)</label>\n         </li>\n         ",c.innerHTML=t)},a.onclick=function(){n.classList.add("active"),i.classList.remove("active"),l.classList.remove("active"),r=r.filter((function(e){return!1===e.checked})),d(),localStorage.setItem("todo",JSON.stringify(r))},function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"np-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();